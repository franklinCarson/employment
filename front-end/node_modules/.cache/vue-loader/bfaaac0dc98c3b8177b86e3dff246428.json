{"remainingRequest":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cfranklin/Sites/church/employement/front-end/src/components/JobOpportunity.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cfranklin/Sites/church/employement/front-end/src/components/JobOpportunity.vue","mtime":1586737680669},{"path":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IFJlcXVlc3RJbmZvIGZyb20gIi4vUmVxdWVzdEluZm8iOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiSm9iT3Bwb3J0dW5pdHkiLAogICAgcHJvcHM6IFsnb3Bwb3J0dW5pdHknLCAnc3RhdGUnLCAnb3Bwb3J0dW5pdHlBcHByb3ZlZCcsICdvcHBvcnR1bml0eURlY2xpbmVkJywgJ29wcG9ydHVuaXR5RGVsZXRlZCddLAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBhZG1pbjogdHJ1ZQogICAgfSksCiAgICBjb21wb25lbnRzOnsKICAgICAgICBSZXF1ZXN0SW5mbwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICByZXF1ZXN0SW5mb0J0bkNsaWNrZWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5yZXF1ZXN0SW5mby50b2dnbGVTaG93bigpCiAgICAgICAgfSwKICAgICAgICBhcHByb3ZlQnV0dG9uQ2xpY2tlZDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucGF0Y2goJy9hcGkvb3Bwb3J0dW5pdHknLCB7CiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnYXBwcm92ZScsCiAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMub3Bwb3J0dW5pdHkuaWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5vcHBvcnR1bml0eUFwcHJvdmVkKHRoaXMub3Bwb3J0dW5pdHkuaWQpCiAgICAgICAgICAgIH0gY2F0Y2goZSl7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCJUaGVyZSB3YXMgYW4gZXJyb3IgYXBwcm92ZWQgdGhpcyBvcHBvcnR1bml0eS4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4iKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZGVjbGluZUJ1dHRvbkNsaWNrZWQ6IGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBhd2FpdCBheGlvcy5wYXRjaCgnL2FwaS9vcHBvcnR1bml0eScsIHsKICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdkZWNsaW5lJywKICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5vcHBvcnR1bml0eS5pZAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLm9wcG9ydHVuaXR5RGVjbGluZWQodGhpcy5vcHBvcnR1bml0eS5pZCkKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICBhbGVydCgiVGhlcmUgd2FzIGFuIGVycm9yIGRlY2xpbmluZyB0aGlzIG9wcG9ydHVuaXR5LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLiIpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkZWxldGVCdXR0b25DbGlja2VkOiBhc3luYyBmdW5jdGlvbigpewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MuZGVsZXRlKGAvYXBpL29wcG9ydHVuaXR5LyR7dGhpcy5vcHBvcnR1bml0eS5pZH1gKTsKICAgICAgICAgICAgICAgIHRoaXMub3Bwb3J0dW5pdHlEZWxldGVkKHRoaXMub3Bwb3J0dW5pdHkuaWQpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgiVGhlcmUgd2FzIGFuIGVycm9yIGRlbGV0aW5nIHRoaXMgb3Bwb3J0dW5pdHkuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["JobOpportunity.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"JobOpportunity.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-card class=\"ma-6\">\n        <v-card-title>\n            {{ opportunity.title }}\n        </v-card-title>\n        <v-card-subtitle>\n            Description\n        </v-card-subtitle>\n        <v-card-text>\n            {{ opportunity.description }}\n        </v-card-text>\n        <v-card-actions>\n            <v-spacer/>\n            <template v-if=\"state === 'pendingOpportunityAdminLoggedIn'\">\n                <v-btn\n                        @click=\"declineButtonClicked\"\n                        color=\"error\">\n                    Decline\n                </v-btn>\n                <v-btn\n                        @click=\"approveButtonClicked\"\n                        color=\"success\"\n                >\n                    Approve\n                </v-btn>\n            </template>\n            <v-btn v-else-if=\"state === 'jobListingAdminLoggedIn'\"\n                   @click=\"deleteButtonClicked\"\n                color=\"error\"\n            >\n                Delete\n            </v-btn>\n            <v-btn v-else @click=\"requestInfoBtnClicked\">\n                Request Info\n            </v-btn>\n\n            <RequestInfo :opportunity-i-d=\"opportunity.title\"  ref=\"requestInfo\"/>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\n    import axios from 'axios'\n    import RequestInfo from \"./RequestInfo\";\n    export default {\n        name: \"JobOpportunity\",\n        props: ['opportunity', 'state', 'opportunityApproved', 'opportunityDeclined', 'opportunityDeleted'],\n        data: () => ({\n            admin: true\n        }),\n        components:{\n            RequestInfo\n        },\n        methods: {\n            requestInfoBtnClicked: function () {\n                this.$refs.requestInfo.toggleShown()\n            },\n            approveButtonClicked: async function () {\n                try {\n                    await axios.patch('/api/opportunity', {\n                        action: 'approve',\n                        id: this.opportunity.id\n                    });\n                    this.opportunityApproved(this.opportunity.id)\n                } catch(e){\n                    console.log(e);\n                    alert(\"There was an error approved this opportunity. Please try again later.\");\n                }\n            },\n            declineButtonClicked: async function(){\n                try {\n                    await axios.patch('/api/opportunity', {\n                        action: 'decline',\n                        id: this.opportunity.id\n                    });\n                    this.opportunityDeclined(this.opportunity.id)\n                } catch (e) {\n                    console.log(e);\n                    alert(\"There was an error declining this opportunity. Please try again later.\");\n                }\n            },\n            deleteButtonClicked: async function(){\n                try {\n                    await axios.delete(`/api/opportunity/${this.opportunity.id}`);\n                    this.opportunityDeleted(this.opportunity.id);\n                } catch (e) {\n                    alert(\"There was an error deleting this opportunity. Please try again later.\");\n                    console.log(e);\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}