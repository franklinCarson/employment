{"remainingRequest":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/babel-loader/lib/index.js!/Users/cfranklin/Sites/church/employement/front-end/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/cfranklin/Sites/church/employement/front-end/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cfranklin/Sites/church/employement/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cfranklin/Sites/church/employement/front-end/src/components/JobOpportunity.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cfranklin/Sites/church/employement/front-end/src/components/JobOpportunity.vue","mtime":1586737680669},{"path":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cfranklin/Sites/church/employement/front-end/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NmcmFua2xpbi9TaXRlcy9jaHVyY2gvZW1wbG95ZW1lbnQvZnJvbnQtZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFJlcXVlc3RJbmZvIGZyb20gIi4vUmVxdWVzdEluZm8iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkpvYk9wcG9ydHVuaXR5IiwKICBwcm9wczogWydvcHBvcnR1bml0eScsICdzdGF0ZScsICdvcHBvcnR1bml0eUFwcHJvdmVkJywgJ29wcG9ydHVuaXR5RGVjbGluZWQnLCAnb3Bwb3J0dW5pdHlEZWxldGVkJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkbWluOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgUmVxdWVzdEluZm86IFJlcXVlc3RJbmZvCiAgfSwKICBtZXRob2RzOiB7CiAgICByZXF1ZXN0SW5mb0J0bkNsaWNrZWQ6IGZ1bmN0aW9uIHJlcXVlc3RJbmZvQnRuQ2xpY2tlZCgpIHsKICAgICAgdGhpcy4kcmVmcy5yZXF1ZXN0SW5mby50b2dnbGVTaG93bigpOwogICAgfSwKICAgIGFwcHJvdmVCdXR0b25DbGlja2VkOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYXBwcm92ZUJ1dHRvbkNsaWNrZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wYXRjaCgnL2FwaS9vcHBvcnR1bml0eScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnYXBwcm92ZScsCiAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLm9wcG9ydHVuaXR5LmlkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgdGhpcy5vcHBvcnR1bml0eUFwcHJvdmVkKHRoaXMub3Bwb3J0dW5pdHkuaWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCJUaGVyZSB3YXMgYW4gZXJyb3IgYXBwcm92ZWQgdGhpcyBvcHBvcnR1bml0eS4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMCwgNl1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYXBwcm92ZUJ1dHRvbkNsaWNrZWQoKSB7CiAgICAgICAgcmV0dXJuIF9hcHByb3ZlQnV0dG9uQ2xpY2tlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYXBwcm92ZUJ1dHRvbkNsaWNrZWQ7CiAgICB9KCksCiAgICBkZWNsaW5lQnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2RlY2xpbmVCdXR0b25DbGlja2VkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBhdGNoKCcvYXBpL29wcG9ydHVuaXR5JywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdkZWNsaW5lJywKICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMub3Bwb3J0dW5pdHkuaWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB0aGlzLm9wcG9ydHVuaXR5RGVjbGluZWQodGhpcy5vcHBvcnR1bml0eS5pZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CiAgICAgICAgICAgICAgICBhbGVydCgiVGhlcmUgd2FzIGFuIGVycm9yIGRlY2xpbmluZyB0aGlzIG9wcG9ydHVuaXR5LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLiIpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzLCBbWzAsIDZdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGRlY2xpbmVCdXR0b25DbGlja2VkKCkgewogICAgICAgIHJldHVybiBfZGVjbGluZUJ1dHRvbkNsaWNrZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRlY2xpbmVCdXR0b25DbGlja2VkOwogICAgfSgpLAogICAgZGVsZXRlQnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2RlbGV0ZUJ1dHRvbkNsaWNrZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZGVsZXRlKCIvYXBpL29wcG9ydHVuaXR5LyIuY29uY2F0KHRoaXMub3Bwb3J0dW5pdHkuaWQpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgdGhpcy5vcHBvcnR1bml0eURlbGV0ZWQodGhpcy5vcHBvcnR1bml0eS5pZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCJUaGVyZSB3YXMgYW4gZXJyb3IgZGVsZXRpbmcgdGhpcyBvcHBvcnR1bml0eS4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4iKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0My50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMsIFtbMCwgNl1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZGVsZXRlQnV0dG9uQ2xpY2tlZCgpIHsKICAgICAgICByZXR1cm4gX2RlbGV0ZUJ1dHRvbkNsaWNrZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRlbGV0ZUJ1dHRvbkNsaWNrZWQ7CiAgICB9KCkKICB9Cn07"},{"version":3,"sources":["JobOpportunity.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,WAAA,MAAA,eAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,KAAA,EAAA,CAAA,aAAA,EAAA,OAAA,EAAA,qBAAA,EAAA,qBAAA,EAAA,oBAAA,CAFA;AAGA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAAA,GAHA;AAMA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GANA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,qBAAA,EAAA,iCAAA;AACA,WAAA,KAAA,CAAA,WAAA,CAAA,WAAA;AACA,KAHA;AAIA,IAAA,oBAAA;AAAA,0FAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,KAAA,CAAA,kBAAA,EAAA;AACA,kBAAA,MAAA,EAAA,SADA;AAEA,kBAAA,EAAA,EAAA,KAAA,WAAA,CAAA;AAFA,iBAAA,CAFA;;AAAA;AAMA,qBAAA,mBAAA,CAAA,KAAA,WAAA,CAAA,EAAA;AANA;AAAA;;AAAA;AAAA;AAAA;AAQA,gBAAA,OAAA,CAAA,GAAA;AACA,gBAAA,KAAA,CAAA,uEAAA,CAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAJA;AAgBA,IAAA,oBAAA;AAAA,0FAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,KAAA,CAAA,kBAAA,EAAA;AACA,kBAAA,MAAA,EAAA,SADA;AAEA,kBAAA,EAAA,EAAA,KAAA,WAAA,CAAA;AAFA,iBAAA,CAFA;;AAAA;AAMA,qBAAA,mBAAA,CAAA,KAAA,WAAA,CAAA,EAAA;AANA;AAAA;;AAAA;AAAA;AAAA;AAQA,gBAAA,OAAA,CAAA,GAAA;AACA,gBAAA,KAAA,CAAA,wEAAA,CAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAhBA;AA4BA,IAAA,mBAAA;AAAA,yFAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,MAAA,4BAAA,KAAA,WAAA,CAAA,EAAA,EAFA;;AAAA;AAGA,qBAAA,kBAAA,CAAA,KAAA,WAAA,CAAA,EAAA;AAHA;AAAA;;AAAA;AAAA;AAAA;AAKA,gBAAA,KAAA,CAAA,uEAAA,CAAA;AACA,gBAAA,OAAA,CAAA,GAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA5BA;AATA,CAAA","sourcesContent":["<template>\n    <v-card class=\"ma-6\">\n        <v-card-title>\n            {{ opportunity.title }}\n        </v-card-title>\n        <v-card-subtitle>\n            Description\n        </v-card-subtitle>\n        <v-card-text>\n            {{ opportunity.description }}\n        </v-card-text>\n        <v-card-actions>\n            <v-spacer/>\n            <template v-if=\"state === 'pendingOpportunityAdminLoggedIn'\">\n                <v-btn\n                        @click=\"declineButtonClicked\"\n                        color=\"error\">\n                    Decline\n                </v-btn>\n                <v-btn\n                        @click=\"approveButtonClicked\"\n                        color=\"success\"\n                >\n                    Approve\n                </v-btn>\n            </template>\n            <v-btn v-else-if=\"state === 'jobListingAdminLoggedIn'\"\n                   @click=\"deleteButtonClicked\"\n                color=\"error\"\n            >\n                Delete\n            </v-btn>\n            <v-btn v-else @click=\"requestInfoBtnClicked\">\n                Request Info\n            </v-btn>\n\n            <RequestInfo :opportunity-i-d=\"opportunity.title\"  ref=\"requestInfo\"/>\n        </v-card-actions>\n    </v-card>\n</template>\n\n<script>\n    import axios from 'axios'\n    import RequestInfo from \"./RequestInfo\";\n    export default {\n        name: \"JobOpportunity\",\n        props: ['opportunity', 'state', 'opportunityApproved', 'opportunityDeclined', 'opportunityDeleted'],\n        data: () => ({\n            admin: true\n        }),\n        components:{\n            RequestInfo\n        },\n        methods: {\n            requestInfoBtnClicked: function () {\n                this.$refs.requestInfo.toggleShown()\n            },\n            approveButtonClicked: async function () {\n                try {\n                    await axios.patch('/api/opportunity', {\n                        action: 'approve',\n                        id: this.opportunity.id\n                    });\n                    this.opportunityApproved(this.opportunity.id)\n                } catch(e){\n                    console.log(e);\n                    alert(\"There was an error approved this opportunity. Please try again later.\");\n                }\n            },\n            declineButtonClicked: async function(){\n                try {\n                    await axios.patch('/api/opportunity', {\n                        action: 'decline',\n                        id: this.opportunity.id\n                    });\n                    this.opportunityDeclined(this.opportunity.id)\n                } catch (e) {\n                    console.log(e);\n                    alert(\"There was an error declining this opportunity. Please try again later.\");\n                }\n            },\n            deleteButtonClicked: async function(){\n                try {\n                    await axios.delete(`/api/opportunity/${this.opportunity.id}`);\n                    this.opportunityDeleted(this.opportunity.id);\n                } catch (e) {\n                    alert(\"There was an error deleting this opportunity. Please try again later.\");\n                    console.log(e);\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}